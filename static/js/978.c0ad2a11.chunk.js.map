{"version":3,"file":"static/js/978.c0ad2a11.chunk.js","mappings":"6IAEO,MAAMA,EAAaC,IAAoB,IAAnB,GAAEC,EAAE,MAAEC,GAAOF,EACtC,MAAMG,GAAWC,EAAAA,EAAAA,MAEjB,OACEC,EAAAA,EAAAA,KAAA,MAAIJ,GAAIA,EAAGK,UACTD,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CAACC,GAAE,WAAAC,OAAaR,GAAMS,MAAO,CAAEC,KAAMR,GAAWG,UACnDD,EAAAA,EAAAA,KAAA,MAAAC,SAAKJ,Q,wDCRN,MAAMU,EAAkBZ,IAA2C,IAA1C,SAAEa,EAAQ,MAAEC,EAAK,gBAAEC,GAAiBf,EAClE,OACEgB,EAAAA,EAAAA,MAAA,QACEC,SAAWC,IACTA,EAAEC,iBACGL,GACLC,EAAgB,CAAED,MAAOA,KACzBR,SAAA,EAEFD,EAAAA,EAAAA,KAAA,SAAAC,UACED,EAAAA,EAAAA,KAAA,SACEe,MAAON,EACPO,YAAY,YACZC,SAAWJ,GAAML,EAASK,EAAEK,cAAcH,OAC1CI,KAAK,OACLC,KAAK,YACLC,UAAQ,OAGZrB,EAAAA,EAAAA,KAAA,UAAAC,SAAQ,e,sCCdd,MAAMqB,EAAYC,EAAAA,EAAMC,OAAO,CAC7BC,QAAS,sCACTC,QAAS,CACPC,OAAQ,mBACRC,cACE,iQAIOC,EAAkBA,KAAO,IAADC,EACnC,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,IAAgBC,EAAAA,EAAAA,MAEjB1B,EAAiC,QAA5BqB,EAAGI,EAAaE,IAAI,gBAAQ,IAAAN,EAAAA,EAAI,GA+B3C,OA7BAO,EAAAA,EAAAA,WAAU,KACR,IAAK5B,EAEH,YADAuB,EAAU,IAIZ,IAAIM,GAAY,EAkBhB,MAhBoBC,WAClB,IACE,MAAM,KAAEC,SAAelB,EAAUc,IAAI,2CAADhC,OACSK,IAGzC6B,GACFN,EAAUQ,EAAKC,QAEnB,CAAE,MAAOC,GACPC,QAAQD,MAAMA,EAChB,GAGFE,GAEO,KACLN,GAAY,IAEb,CAAC7B,IAECsB,EAAOc,QAGV7C,EAAAA,EAAAA,KAAA,MAAAC,SACG8B,EAAOe,IAAInD,IAAA,IAAC,GAAEC,EAAE,MAAEC,GAAQF,EAAA,OACzBK,EAAAA,EAAAA,KAACN,EAAAA,EAAU,CAETE,GAAIA,EACJC,MAAOA,GAFFD,OANc,MCxB7B,EApBwBmD,KACtB,MAAOb,EAAcxB,IAAmByB,EAAAA,EAAAA,OACjC1B,EAAOD,IAAYyB,EAAAA,EAAAA,UACvBC,EAAaE,IAAI,SAAgBF,EAAaE,IAAI,SAAtB,IAG/B,OACEpC,EAAAA,EAAAA,KAAAgD,EAAAA,SAAA,CAAA/C,UACEU,EAAAA,EAAAA,MAAA,WAAAV,SAAA,EACID,EAAAA,EAAAA,KAACO,EAAe,CACdC,SAAUA,EACVC,MAAOA,EACPC,gBAAiBA,KAEnBV,EAAAA,EAAAA,KAAC6B,EAAe,S","sources":["components/MoviesList/MoviesItem/MoviesItem.jsx","pages/MovieSearchPage/MovieSearchForm/MovieSearchForm.jsx","pages/MovieSearchPage/MovieSearchList/MovieSearchList.jsx","pages/MovieSearchPage/MovieSearchPage.jsx"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\r\n\r\nexport const MoviesItem = ({ id, title }) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <li id={id}>\r\n      <Link to={`/movies/${id}`} state={{ from: location }}>\r\n        <h3>{title}</h3>\r\n      </Link>\r\n    </li>\r\n  );\r\n};","export const MovieSearchForm = ({ setQuery, query, setSearchParams }) => {\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        if (!query) return;\r\n        setSearchParams({ query: query });\r\n      }}\r\n    >\r\n      <label>\r\n        <input\r\n          value={query}\r\n          placeholder=\"Search...\"\r\n          onChange={(e) => setQuery(e.currentTarget.value)}\r\n          type=\"text\"\r\n          name=\"usesearch\"\r\n          required\r\n        />\r\n      </label>\r\n      <button>Submit</button>\r\n    </form>\r\n  );\r\n};","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { MoviesItem } from \"../../../components/MoviesList/MoviesItem/MoviesItem\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nconst moviesApi = axios.create({\r\n  baseURL: \"https://api.themoviedb.org/3/search\",\r\n  headers: {\r\n    accept: \"application/json\",\r\n    Authorization:\r\n      \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDg4NGQyODk0ZDRjMjhhNjI2OTM5NGJlNDI4MDVjNCIsIm5iZiI6MTc2OTYxMDcxMy4wNjQ5OTk4LCJzdWIiOiI2OTdhMWRkOTRjMzU2OTI4MTYyYjFkYmQiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.4lm_tD_6r3KyZ_ew6NVXrAPkmhXYxyyals6F6PAHZts\",\r\n  },\r\n});\r\n\r\nexport const MovieSearchList = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [searchParams] = useSearchParams();\r\n\r\n  const query = searchParams.get(\"query\") ?? \"\";\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      setMovies([]);\r\n      return;\r\n    }\r\n\r\n    let isMounted = true;\r\n\r\n    const fetchMovies = async () => {\r\n      try {\r\n        const { data } = await moviesApi.get(\r\n          `/movie?include_adult=false&page=1&query=${query}`\r\n        );\r\n\r\n        if (isMounted) {\r\n          setMovies(data.results);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    fetchMovies();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [query]);\r\n\r\n  if (!movies.length) return null;\r\n\r\n  return (\r\n    <ul>\r\n      {movies.map(({ id, title, }) => (\r\n        <MoviesItem\r\n          key={id}\r\n          id={id}\r\n          title={title}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n","import { MovieSearchForm } from \"./MovieSearchForm/MovieSearchForm\";\r\nimport { useState } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { MovieSearchList } from \"./MovieSearchList/MovieSearchList\";\r\n\r\nconst MovieSearchPage = () => {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [query, setQuery] = useState(\r\n    !searchParams.get(\"query\") ? \"\" : searchParams.get(\"query\"),\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <section>   \r\n          <MovieSearchForm\r\n            setQuery={setQuery}\r\n            query={query}\r\n            setSearchParams={setSearchParams}\r\n          />\r\n          <MovieSearchList />   \r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieSearchPage;"],"names":["MoviesItem","_ref","id","title","location","useLocation","_jsx","children","Link","to","concat","state","from","MovieSearchForm","setQuery","query","setSearchParams","_jsxs","onSubmit","e","preventDefault","value","placeholder","onChange","currentTarget","type","name","required","moviesApi","axios","create","baseURL","headers","accept","Authorization","MovieSearchList","_searchParams$get","movies","setMovies","useState","searchParams","useSearchParams","get","useEffect","isMounted","async","data","results","error","console","fetchMovies","length","map","MovieSearchPage","_Fragment"],"ignoreList":[],"sourceRoot":""}