"use strict";(self.webpackChunkmovie_search=self.webpackChunkmovie_search||[]).push([[978],{66(e,t,r){r.d(t,{R:()=>a});var s=r(886),i=r(579);const a=e=>{let{id:t,title:r}=e;const a=(0,s.zy)();return(0,i.jsx)("li",{id:t,children:(0,i.jsx)(s.N_,{to:"/movies/".concat(t),state:{from:a},children:(0,i.jsx)("h3",{children:r})})})}},978(e,t,r){r.r(t),r.d(t,{default:()=>o});var s=r(579);const i=e=>{let{setQuery:t,query:r,setSearchParams:i}=e;return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r&&i({query:r})},children:[(0,s.jsx)("label",{children:(0,s.jsx)("input",{value:r,placeholder:"Search...",onChange:e=>t(e.currentTarget.value),type:"text",name:"usesearch",required:!0})}),(0,s.jsx)("button",{children:"Submit"})]})};var a=r(43),c=r(886),n=r(722),l=r(66);const u=n.A.create({baseURL:"https://api.themoviedb.org/3/search",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDg4NGQyODk0ZDRjMjhhNjI2OTM5NGJlNDI4MDVjNCIsIm5iZiI6MTc2OTYxMDcxMy4wNjQ5OTk4LCJzdWIiOiI2OTdhMWRkOTRjMzU2OTI4MTYyYjFkYmQiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.4lm_tD_6r3KyZ_ew6NVXrAPkmhXYxyyals6F6PAHZts"}}),h=()=>{var e;const[t,r]=(0,a.useState)([]),[i]=(0,c.ok)(),n=null!==(e=i.get("query"))&&void 0!==e?e:"";return(0,a.useEffect)(()=>{if(!n)return void r([]);let e=!0;return(async()=>{try{const{data:t}=await u.get("/movie?include_adult=false&page=1&query=".concat(n));e&&r(t.results)}catch(t){console.error(t)}})(),()=>{e=!1}},[n]),t.length?(0,s.jsx)("ul",{children:t.map(e=>{let{id:t,title:r}=e;return(0,s.jsx)(l.R,{id:t,title:r},t)})}):null},o=()=>{const[e,t]=(0,c.ok)(),[r,n]=(0,a.useState)(e.get("query")?e.get("query"):"");return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("section",{children:[(0,s.jsx)(i,{setQuery:n,query:r,setSearchParams:t}),(0,s.jsx)(h,{})]})})}}}]);
//# sourceMappingURL=978.c0ad2a11.chunk.js.map